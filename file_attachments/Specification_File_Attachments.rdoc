Модуль “File Attachments”


Позволяет прикреплять к товарам файлы, которые могут быть загружены с детальной страницы этого товара посетителями.


MAIN SCENARIO


1. Админ устанавливает модуль “File attachments” и включает его. После этого на странице редактирования товара появляется вкладка “Attachments”.
2. Админ закачивает файлы иконок типов файлов в определяемую модулем папку на сервере (к уже имеющимся файлам, которые поставляются с модулем). В дальнейшем модуль в списке файлов на загрузку для каждого типа файла отображает соответствующую ему иконку.
3. Админ добавляет файлы для продукта (4 способа: с локального компьютера, с сервера относительно папки с остальными файлами, с URL без закачки на сервер, с URL с закачкой на сервер). Все загружаемые для товаров файлы хранятся в специальной директории “file-attachments”, которая создаётся самим модулем. Каждый такой файл имеет дополнительную (редактируемую) информацию:
1. Название файла, как его показывать в кастомерской зоне (текст). Если не задано то будет показано имя файла.
2. Описание для файла (текст)
3. Положение файла в списке
1. Исходя из типа файла система подбирает ему соответствующую иконку, которая также показывается и в интерфейсе покупателя, и в админке.
2. Админ при необходимости перезаливает существующий файл.
3. Список файлов, определённый админом, показывается на детальной странице товара. Посетитель может скачать любой из них. Загрузка файла идёт по прямой ссылке, не через скрипт.
4. В настройках модуля админ определяет что делать с файлами при удалении товара, к которому они прикреплены: либо удалять вместе с товаром, либо оставлять. Файл удаляется только если нет больше других товаров, ссылающихся на него


REQUIREMENTS

3a. Файловый браузер по серверу обеспечивает навигацию только в пределах директории “file-attachments” и показывает список поддиректорий только первого уровня. Навигации по другим папкам нет.

3b. При аплоаде файлов с локального компьютера или по URL они группируются по директориям (директория на товар). Если файл с таким именем для товара уже существует, то его либо можно перетереть (и тогда запись о файле тоже заменяется), либо вообще отменить закачку.

6a. URL на скачку должен отдаваться через метод, чтобы можно было перекрыть в модуле egoods и заменить на скачивание через скрипт.




Total estimation: 8 days